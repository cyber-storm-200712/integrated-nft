(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{6737:function(a,b,c){"use strict";c.r(b);var d=c(5666),e=c.n(d),f=c(5893),g=c(7294),h=c(8130),i=c(5155),j=c(3990),k=c(9795),l=c(6076),m=c(8095),n=c(7842),o=c(4436),p=c(4274);c.n(p);var q=c(7903);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var s=o.gT,t=o.ig,u=o.eh;b.default=function(a){var b=(0,k.Ge)(),c=b.account,d=b.library,o=(0,g.useState)(0),p=o[0],v=o[1],w=(0,g.useState)(!1),x=w[0],y=w[1],z=(0,g.useState)("Order");z[0],z[1];var A=(0,g.useState)("0%"),B=A[0],C=A[1],D=(0,g.useState)(""),E=D[0],F=D[1],G=(0,f.jsx)("div",{className:"spin",children:(0,f.jsx)(j.Nbw,{})}),H=new l.CH(t,m,null==d?void 0:d.getSigner(c)),I=new l.CH(u,n,null==d?void 0:d.getSigner(c)),J=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){r(f,d,e,g,h,"next",a)}function h(a){r(f,d,e,g,h,"throw",a)}g(void 0)})}}(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=!0,b.prev=1,F("approving..."),y(!0),b.next=6,I.approve(t,BigInt(10e17*Number(c)));case 6:return f=b.sent,b.next=9,f.wait();case 9:return C("50%"),F("transferring..."),d=!0,b.next=14,H.PlaceBid(s,a.id,BigInt(10e17*Number(c)),BigInt(a.deadline));case 14:return f=b.sent,b.next=17,f.wait();case 17:C("100%"),y(!1),console.log(f),document.location.reload(),b.next=27;break;case 23:b.prev=23,b.t0=b.catch(1),F("canceling..."),d?I.cancelapprove(t,BigInt(10e17*Number(c))).then(function(a){C("0%"),y(!1),F("")}):(F(""),console.log(b.t0),C("0%"),y(!1),F(""));case 27:case"end":return b.stop()}},b,null,[[1,23]])}));return(0,f.jsxs)("div",{className:"create-bid-content flex col",children:[(0,f.jsx)(i.Z,{className:"video-background item-preview-video flex",src:"".concat(a.video)}),(0,f.jsxs)("div",{className:"auction-bid-header flex",children:[(0,f.jsx)("h1",{className:"h1 bid-title",children:"Buy Pretty Red Floki"}),(0,f.jsx)("div",{className:"countdown-timer flex",style:{fontSize:"25px",color:"#370157"},children:(0,f.jsx)(h.ZP,{date:a.deadline})})]}),(0,f.jsxs)("div",{className:"create-order-content flex",children:[(0,f.jsx)("div",{className:"item-preview flex",children:(0,f.jsx)(i.Z,{className:"video-round flex",style:{marginBottom:20},width:"90%",autoPlay:!0,src:"".concat(a.video)})}),(0,f.jsx)("div",{className:"sell-dashboard",children:(0,f.jsxs)("div",{className:"auction-sell flex col",children:[(0,f.jsx)("div",{className:"token-detail-row flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Name: ",a.name]})}),(0,f.jsx)("div",{className:"token-detail-row flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Rarity: ",a.rarity]})}),(0,f.jsx)("div",{className:"auction-price-setting token-detail-row flex row",children:(0,f.jsx)("div",{className:"price-type flex",children:(0,f.jsx)("div",{className:"fixed-value flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Price: ",a.price," Floki"]})})})}),(0,f.jsx)("div",{className:"flex",children:(0,f.jsx)("div",{className:"progress-wrapper",children:(0,f.jsx)(q.Z,{width:B})})}),(0,f.jsxs)("div",{className:"input-price flex",children:[(0,f.jsx)("input",{type:"number",min:a.maxBidPrice>0?a.maxBidPrice+1:a.price,className:"auction-bid-value flex",placeholder:"Maximum bid price: "+a.maxBidPrice,onChange:function(a){v(a.target.valueAsNumber)}}),(0,f.jsx)("div",{className:"tag",children:"Floki"})]}),(0,f.jsx)("div",{className:"current-state flex",children:(0,f.jsx)("div",{children:E})}),(0,f.jsx)("div",{className:"place-bid flex",onClick:function(){return J(p)},children:(0,f.jsx)("button",{className:"btn btn-place-bid",children:x?G:"Place Bid"})})]})})]})]})}},1705:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return v}});var d=c(5666),e=c.n(d),f=c(5893),g=c(7294),h=c(8130),i=c(5155),j=c(3990),k=c(9795),l=c(6076),m=c(8095),n=c(7842),o=c(4436),p=function(a){var b=(0,f.jsx)("div",{className:"spin flex",children:(0,f.jsx)(j.Nbw,{})}),c=(0,f.jsx)("div",{className:"spin",style:{marginRight:"3px"},children:(0,f.jsx)(j.Nbw,{color:"#370157"})});return(0,f.jsx)(f.Fragment,{children:a.loading?1==a.loadingType?(0,f.jsx)("button",{className:"btn flex ".concat(a.className),disabled:!0,children:b}):(0,f.jsxs)("div",{className:"current-state-1 flex",children:[c,(0,f.jsx)("div",{className:"flex",children:a.loadingText})]}):(0,f.jsx)("button",{className:"btn ".concat(a.className),onClick:a.onClick,children:a.name})})};function q(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function r(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){q(f,d,e,g,h,"next",a)}function h(a){q(f,d,e,g,h,"throw",a)}g(void 0)})}}var s=o.gT,t=o.ig,u=o.eh,v=function(a){var b=(0,g.useState)(!1),c=b[0],d=b[1],o=(0,k.Ge)(),q=o.account,v=o.library,w=(0,g.useState)(a.maxBidPrice?a.maxBidPrice:0),x=w[0];w[1];var y=(0,g.useState)(!1),z=y[0],A=y[1],B=(0,f.jsx)("div",{className:"spin flex",children:(0,f.jsx)(j.Nbw,{})}),C=(0,f.jsx)("div",{className:"spin",style:{marginRight:"3px"},children:(0,f.jsx)(j.Nbw,{color:"#370157"})}),D=new l.CH(t,m,null==v?void 0:v.getSigner(q));new l.CH(u,n,null==v?void 0:v.getSigner(q));var E=r(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,d(!0),a.next=4,D.cancelOrder(s,b);case 4:return c=a.sent,a.next=7,c.wait();case 7:d(!1),window.location.reload(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),d(!1);case 14:case"end":return a.stop()}},a,null,[[0,11]])})),F=r(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Bid canceling..."),a.prev=1,d(!0),a.next=5,D.cancelBid(s,b);case 5:return c=a.sent,a.next=8,c.wait();case 8:d(!1),window.location.reload(),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),d(!1),console.log("Faild operation...");case 16:case"end":return a.stop()}},a,null,[[1,12]])})),G=r(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,A(!0),a.next=4,D.acceptBid(s,b,BigInt(10e17*x));case 4:return c=a.sent,a.next=7,c.wait();case 7:d(!1),window.location.reload(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),A(!1);case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return(0,f.jsxs)("div",{className:"card-item flex col",style:{borderColor:a.borderColor,color:a.borderColor},children:[(0,f.jsxs)("div",{className:"card-info flex",children:[(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"AssetId"}),(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:a.assetId})]}),(0,f.jsx)(i.Z,{className:"video-round flex",style:{marginBottom:20},width:"90%",src:a.src,autoPlay:!0}),(0,f.jsxs)("div",{className:"card-rarity flex",children:[(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"RARITY"}),(0,f.jsx)("p",{className:"comment",children:"Common"})]}),(0,f.jsxs)("div",{className:"card-collection flex",children:[(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"COLLECTION"}),(0,f.jsx)("p",{className:"comment",children:"Season1"})]}),(0,f.jsxs)("div",{className:"card-opening-chain flex",children:[(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"OPEING CHAIN"}),(0,f.jsx)("p",{className:"comment",children:"1X"})]}),(0,f.jsxs)("div",{className:"card-apy flex",children:[(0,f.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"fixed"==a.type?"Price":"Current Bid Price"}),(0,f.jsxs)("p",{className:"comment",children:[" ","fixed"==a.type?a.price:x]})]}),a.owner!=a.account?(0,f.jsx)("div",{className:"card-button flex",children:"fixed"==a.type|| void 0==a.type?(0,f.jsx)("button",{className:"btn flex",onClick:a.onClick,children:c?B:"Buy"}):a.bidder!=a.account?(0,f.jsx)("button",{className:"btn btn-countdown flex",style:{alignItems:"center"},onClick:function(){return a.onClick(a.deadline)},children:new Date(a.deadline).getTime()>new Date().getTime()?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:"Place bid in "}),(0,f.jsxs)("div",{className:"sub-countdown flex",children:["\xa0",(0,f.jsx)(h.ZP,{date:a.deadline})]})]}):(0,f.jsx)(f.Fragment,{children:"TimeUp"})}):(0,f.jsx)(p,{loading:c,loadingType:2,name:"Cancel Bid",loadingText:"Caceling...",onClick:function(){return F(a.assetId)}})}):new Date(a.deadline).getTime()>new Date().getTime()?(0,f.jsx)("div",{className:"card-button flex",children:x>0?(0,f.jsxs)(f.Fragment,{children:[c?(0,f.jsxs)("div",{className:"current-state-1 flex",children:[C,(0,f.jsx)("div",{className:"flex",children:"Canceling..."})]}):z?(0,f.jsx)(f.Fragment,{}):(0,f.jsx)("button",{className:"btn flex",onClick:function(){E(a.assetId)},children:"Cancel Order"}),z?(0,f.jsxs)("div",{className:"current-state-1 flex",children:[C,(0,f.jsx)("div",{className:"flex",children:"Accepting..."})]}):c?(0,f.jsx)(f.Fragment,{}):(0,f.jsx)("button",{style:{marginLeft:"1%"},className:"btn flex",onClick:function(){G(a.assetId)},children:"Accept Bid"})]}):(0,f.jsx)(p,{name:"Cancel Order",loading:c,loadingType:2,loadingText:"Canceling...",onClick:function(){return E(a.assetId)}})}):(0,f.jsx)("div",{className:"card-button flex",children:"fixed"==a.type?(0,f.jsx)(p,{name:"Cancel order.",loading:c,loadingType:2,loadingText:"Canceling...",onClick:function(){return E(a.assetId)}}):(0,f.jsx)(p,{name:"Expired. Please cancel order.",loading:c,loadingType:2,loadingText:"Canceling...",onClick:function(){return E(a.assetId)}})})]})}},218:function(a,b,c){"use strict";c.r(b);var d=c(5666),e=c.n(d),f=c(5893),g=c(7294),h=c(9795),i=c(6076),j=c(8095),k=c(7842),l=c(4436),m=c(3990),n=c(4274);c.n(n);var o=c(5155),p=c(7903);function q(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var r=l.gT,s=l.ig,t=l.eh;b.default=function(a){var b=(0,g.useState)(!1),c=b[0],d=b[1],l=(0,h.Ge)(),n=l.account,u=l.library,v=(0,g.useState)("0%"),w=v[0],x=v[1],y=(0,g.useState)(""),z=y[0],A=y[1],B=(0,f.jsx)("div",{className:"spin",children:(0,f.jsx)(m.Nbw,{})}),C=new i.CH(s,j,null==u?void 0:u.getSigner(n)),D=new i.CH(t,k,null==u?void 0:u.getSigner(n)),E=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){q(f,d,e,g,h,"next",a)}function h(a){q(f,d,e,g,h,"throw",a)}g(void 0)})}}(e().mark(function b(){var c,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=!1,b.prev=1,d(!0),A("approving..."),b.next=6,D.approve(s,BigInt(10e17*a.price));case 6:return f=b.sent,b.next=9,f.wait();case 9:return x("50%"),A("transferring..."),c=!0,b.next=14,C.CustomBuy(r,a.id);case 14:return f=b.sent,b.next=17,f.wait();case 17:x("100%"),d(!1),document.location.reload(),b.next=25;break;case 22:b.prev=22,b.t0=b.catch(1),c?(A("canceling..."),D.cancelapprove(s,BigInt(10e17*a.price)).then(function(a){x("0%"),d(!1)})):(A(""),console.log(b.t0),x("0%"),d(!1));case 25:case"end":return b.stop()}},b,null,[[1,22]])}));return(0,f.jsxs)("div",{className:"create-bid-content flex col",children:[(0,f.jsx)(o.Z,{className:"video-background item-preview-video flex",src:"".concat(a.video)}),(0,f.jsx)("div",{className:"create-bid-header flex",children:(0,f.jsx)("h1",{className:"h1 bid-title",children:"Buy Pretty Floki"})}),(0,f.jsxs)("div",{className:"create-bid-content flex",children:[(0,f.jsx)("div",{className:"item-preview flex",children:(0,f.jsx)(o.Z,{className:"video-round character item-preview-video flex",style:{width:"90%",height:"auto",flex:1},src:"".concat(a.video)})}),(0,f.jsx)("div",{className:"sell-dashboard",children:(0,f.jsxs)("div",{className:"fixed-sell flex col",children:[(0,f.jsx)("div",{className:"token-detail-row flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Name: ",a.name]})}),(0,f.jsx)("div",{className:"token-detail-row flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Rarity: ",a.rarity]})}),(0,f.jsx)("div",{className:"fixed-price-setting token-detail-row flex row",children:(0,f.jsx)("div",{className:"fixed-value flex",children:(0,f.jsxs)("h3",{className:"h3",children:["Price: ",Number(a.price)," Floki"]})})}),(0,f.jsx)("div",{className:"token-details-row flex",children:(0,f.jsx)(p.Z,{width:w})}),(0,f.jsx)("div",{className:"current-state flex",children:(0,f.jsx)("div",{children:z})}),(0,f.jsx)("div",{className:"confirm-price flex",children:(0,f.jsx)("div",{className:"confirm-price flex",children:(0,f.jsx)("button",{className:"btn btn-confirm-price",onClick:E,children:c?B:"Buy"})})})]})})]})]})}},7061:function(a,b,c){"use strict";c.r(b);var d=c(5666),e=c.n(d),f=c(5893),g=c(7294),h=c(9795),i=c(6076),j=c(5795),k=c(8095),l=c(7842),m=c(4436),n=c(1705),o=c(3990),p=c(3253),q=c.n(p),r=c(4274);c.n(r);var s=c(218),t=c(6737),u=c(3351);function v(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function w(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){v(f,d,e,g,h,"next",a)}function h(a){v(f,d,e,g,h,"throw",a)}g(void 0)})}}function x(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function y(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){x(a,b,c[b])})}return a}var z=m.gT,A=m.ig,B=m.eh,C=[{name:"Micropets",amount:1,rarity:"common",price:10e9,video:"https://micropets.io/uploads/MicroPetsPromoNew.mp4",type:"fixed",deadline:Date.now(),isPlaceholder:!0}];b.default=function(){var a=(0,h.Ge)(),b=a.account,c=a.library,d=(0,g.useState)(C),m=d[0],p=d[1],r=[],v=[],x=(0,g.useState)(!1),D=x[0],E=x[1],F=(0,g.useState)("");F[0],F[1];var G=(0,g.useState)(new Date());G[0],G[1];var H=(0,g.useState)(new Date(Date.now())),I=H[0],J=H[1],K=(0,g.useState)(""),L=K[0],M=K[1],N=(0,g.useState)(0),O=N[0],P=N[1],Q=(0,g.useState)({}),R=Q[0],S=Q[1],T=(0,g.useState)(0);T[0],T[1];var U=(0,g.useState)(0);U[0],U[1];var V=(0,g.useState)(!1),W=V[0],X=V[1],Y=(0,g.useState)("Order");Y[0],Y[1];var Z=function(){E(!0)},$=function(a,b,c){S(c),P(b),M(a),Z()},_=new i.CH(A,k,null==c?void 0:c.getSigner(b)),aa=new i.CH(B,l,null==c?void 0:c.getSigner(b)),ba=w(e().mark(function a(){var b;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,X(!0),a.next=4,aa.approve(A,BigInt(10e17*R.price));case 4:return b=a.sent,a.next=7,b.wait();case 7:return document.getElementsByClassName("progress-bar")[0].setAttribute("width","50%"),a.next=10,_.CustomBuy(z,O);case 10:b=a.sent,X(!1),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0),X(!1);case 18:case"end":return a.stop()}},a,null,[[0,14]])})),ca=w(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return X(!0),a.next=3,aa.approve(A,BigInt(10e17*Number(b)));case 3:return c=a.sent,a.next=6,c.wait();case 6:return a.next=8,_.PlaceBid(z,O,BigInt(10e17*Number(b)),BigInt(R.deadline));case 8:c=a.sent,X(!1),console.log(c);case 11:case"end":return a.stop()}},a)})),da=new Array(),ea=new Array(),fa=(0,g.useState)(ea),ga=fa[0],ha=fa[1],ia=(0,g.useState)(da),ja=ia[0],ka=ia[1],la=(0,g.useState)(1),ma=la[0],na=la[1],oa=(0,g.useState)([]);return oa[0],oa[1],new Array(),new Array(),(0,f.jsx)("div",{className:"spin",children:(0,f.jsx)(o.Nbw,{})}),m.length%9==0?m.length/9:m.length/9+1,(0,g.useEffect)(function(){q().setAppElement(".create-order-modal");var a=new i.CH(z,j,null==c?void 0:c.getSigner(b));b&&(a.getTokenIdsByAddress(A).then(function(b){var c=b.split(",");c.shift(),v=c,c.map(function(b,d){a.tokenURI(b).then(function(a){_.getDetail(z,b).then(function(d){_.getBidDetail(z,b).then(function(e){var f=new Date();f.setTime(d[1]);var g={id:b,name:"Micropet Inu",amount:1,rarity:"common",price:Number(BigInt(d[2])/BigInt(10e17)),video:"https://gateway.pinata.cloud/ipfs/".concat(a),type:1==d[0].toNumber()?"auction":"fixed",saleType:1==d[0].toNumber()?"auction":"fixed",deadline:f,owner:"0x"+d[3].toLowerCase(),bidder:"0x"+e[2].toLowerCase(),maxBidPrice:Number(e[0])/10e17};r.push(g),r.length==c.length&&p(r)})})})})}).catch(function(a){console.log(a)}),m.map(function(a,c){a.owner===b.toLowerCase()?ea.push((0,f.jsx)(n.default,{assetId:a.id,type:a.type,price:a.price,src:a.video,account:b.toLowerCase(),bidder:a.bidder,owner:a.owner,deadline:void 0!==a?a.deadline:null,onClick:function(){$(a.video,a.id,a)},maxBidPrice:a.maxBidPrice},c)):da.push((0,f.jsx)(n.default,{assetId:a.id,type:a.type,src:a.video,account:b.toLowerCase(),price:a.price,bidder:a.bidder,owner:a.owner,deadline:void 0!==a?a.deadline:null,onClick:function(b){new Date(b).getTime()>new Date().getTime()||"fixed"==a.type?$(a.video,a.id,a):window.location.reload()},maxBidPrice:a.maxBidPrice},c))}),ha(ea),ka(da))},[m[0].isPlaceholder&&b]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"modal create-order-modal flex",children:(0,f.jsx)(q(),{isOpen:D,onAfterOpen:function(){},onRequestClose:function(){E(!1)},style:u.I,contentLabel:"Create Order",children:"fixed"==R.saleType?(0,f.jsx)(s.default,y({},R,{onClick:ba,buttonLoading:W})):(0,f.jsx)(t.default,y({},R,{onClick:ca,buttonLoading:W}))})}),(0,f.jsxs)("div",{className:"marketing-items flex col",children:[(0,f.jsxs)("div",{className:"pet-card-container my-items flex flex-wrap col",id:"myItemsPage",children:[(0,f.jsx)("h1",{className:"h1 flex itempage-header",children:"My Flokis"}),(0,f.jsx)("div",{className:"flex",children:ga.length>0?ga:(0,f.jsx)("div",{children:" No items"})})]}),(0,f.jsxs)("div",{className:"pet-card-container others-items flex flex-wrap col",id:"selectedPage",children:[(0,f.jsx)("h1",{className:"h1 flex itempage-header",children:"Flokis"}),(0,f.jsx)("div",{className:"flex",children:ja.length>0?ja:(0,f.jsx)("div",{children:" No items"})})]}),(0,f.jsx)("div",{})]})]})}},4274:function(){}}])