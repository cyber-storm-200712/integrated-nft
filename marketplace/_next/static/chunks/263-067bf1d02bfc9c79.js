"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{9263:function(a,b,c){c.r(b);var d=c(5666),e=c.n(d),f=c(5893),g=c(7294),h=c(9795),i=c(6076),j=c(3253),k=c.n(j),l=c(7903),m=c(3990),n=c(2071),o=c(5155),p=c(5795),q=c(8095),r=c(4436),s=c(3351);function t(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function u(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){t(f,d,e,g,h,"next",a)}function h(a){t(f,d,e,g,h,"throw",a)}g(void 0)})}}var v=r.gT,w=r.ig,x=[];b.default=function(){var a=(0,h.Ge)(),b=a.account,c=a.library,d=(0,g.useState)([]),j=d[0],r=d[1],t=new Date(),y=(0,g.useState)(!1),z=y[0],A=y[1],B=(0,g.useState)(new Date());B[0],B[1];var C=(0,g.useState)(new Date(Date.now())),D=C[0],E=C[1],F=(0,g.useState)(""),G=F[0],H=F[1],I=(0,g.useState)(0),J=I[0],K=I[1],L=(0,g.useState)(0),M=L[0],N=L[1],O=(0,g.useState)(BigInt(t.getTime())),P=O[0],Q=O[1],R=(0,g.useState)(!0),S=R[0],T=R[1],U=(0,g.useState)("0%"),V=U[0],W=U[1],X=(0,g.useState)(!1),Y=X[0],Z=X[1],$=(0,g.useState)("Order"),_=$[0],aa=$[1],ba=(0,g.useState)(""),ca=ba[0],da=ba[1],ea=function(){A(!0)},fa=function(a,b){K(a),H(b),ea()};(0,f.jsx)("div",{className:"spin",children:(0,f.jsx)(m.Nbw,{})});var ga=(0,f.jsx)("div",{className:"spin",style:{marginRight:"3px"},children:(0,f.jsx)(m.Nbw,{color:"#370157"})}),ha=new i.CH(v,p,null==c?void 0:c.getSigner(b)),ia=new i.CH(w,q,null==c?void 0:c.getSigner(b)),ja=u(e().mark(function a(){var b,c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=!1,M){a.next=3;break}return a.abrupt("return",!1);case 3:return a.prev=3,Z(!0),da("approving..."),a.next=8,ha.approve(w,J);case 8:return c=a.sent,a.next=11,c.wait();case 11:return b=!0,W("50%"),da("transferring..."),a.next=16,ia.createOrder(v,J,BigInt(10e17*M),P,0);case 16:return c=a.sent,a.next=19,c.wait();case 19:W("100%"),Z(!1),aa("Completed"),window.location.reload(),a.next=28;break;case 25:a.prev=25,a.t0=a.catch(3),b?(da("canceling..."),ha.cancelApprove(J,w).then(function(a){W("0%"),Z(!1)})):(da(""),console.log(a.t0),W("0%"),Z(!1));case 28:case"end":return a.stop()}},a,null,[[3,25]])})),ka=u(e().mark(function a(){var b,c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(M){a.next=2;break}return a.abrupt("return",!1);case 2:if(!(P-BigInt(new Date().getTime())<60)){a.next=4;break}return a.abrupt("return",!1);case 4:return b=!1,a.prev=5,Z(!0),da("approving..."),a.next=10,ha.approve(w,J);case 10:return c=a.sent,console.log(c.hash),a.next=14,c.wait();case 14:return b=!0,W("50%"),da("transferring..."),console.log(c),a.next=20,ia.createOrder(v,J,BigInt(10e17*M),P,1);case 20:return c=a.sent,a.next=23,c.wait();case 23:W("100%"),Z(!1),aa("Completed"),window.location.reload(),a.next=32;break;case 29:a.prev=29,a.t0=a.catch(5),b?(da("canceling..."),ha.cancelApprove(J,w).then(function(a){W("0%"),Z(!1)})):(da(""),console.log(a.t0),W("0%"),Z(!1));case 32:case"end":return a.stop()}},a,null,[[5,29]])}));return(0,g.useEffect)(function(){if(k().setAppElement(".create-order-modal"),b)try{ha.getTokenIdsByAddress(b).then(function(a){var b=a.split(",");b.shift(),b.map(function(a,c){ha.tokenURI(a).then(function(d){var e=(0,f.jsx)(n.default,{type:"sell",src:"https://gateway.pinata.cloud/ipfs/".concat(d),borderColor:"black",onClick:function(){fa(a,d)}},c);x.push(e),x.length==b.length&&r(x)})})}).catch(function(a){console.log(a)})}catch(a){console.log(a)}},[b,Y,_]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"modal create-order-modal flex",children:(0,f.jsx)(k(),{isOpen:z,onAfterOpen:function(){},onRequestClose:function(){A(!1)},style:s.I,contentLabel:"Create Order",children:(0,f.jsxs)("div",{className:"create-order-content flex col",children:[(0,f.jsx)(o.Z,{className:"video-background item-preview-video flex",src:"https://gateway.pinata.cloud/ipfs/".concat(G)}),(0,f.jsx)("div",{className:"create-order-header flex",children:(0,f.jsx)("h3",{className:"h3 bid-title",children:"Sell Your Red Floki"})}),(0,f.jsxs)("div",{className:"create-order-content flex",children:[(0,f.jsx)("div",{className:"item-preview flex",children:(0,f.jsx)(o.Z,{className:"video-round character item-preview-video flex",style:{width:"100%"},src:"https://gateway.pinata.cloud/ipfs/".concat(G)})}),(0,f.jsx)("div",{className:"sell-dashboard",children:(0,f.jsxs)("div",{className:"flex col tab-container",children:[(0,f.jsxs)("div",{className:"flex tab-header flex",children:[(0,f.jsx)("div",{id:"header-button-left",className:S?"tab-header-button header-button-left flex actived":"tab-header-button header-button-left flex",onClick:function(){T(!S)},children:(0,f.jsx)("div",{children:"Fixed\xa0Price"})}),(0,f.jsx)("div",{id:"header-button-right",className:S?"tab-header-button header-button-right flex":"tab-header-button header-button-right flex actived",onClick:function(){T(!S)},children:(0,f.jsx)("div",{children:"Timed\xa0Auction"})})]}),(0,f.jsx)(l.Z,{width:V}),(0,f.jsx)("div",{id:"tab-pane-1",className:S?"flex col tab-pane-active tab-pane":"flex col tab-pane-hidden tab-pane",children:(0,f.jsxs)("div",{className:"fixed-sell flex col",children:[(0,f.jsx)("div",{className:"price-value flex",children:(0,f.jsx)("input",{type:"text",min:1,className:"price-value",placeholder:"Select price value...",onChange:function(a){N(Number(a.target.value))}})}),(0,f.jsx)("div",{className:"current-state flex",children:(0,f.jsx)("div",{children:ca})}),(0,f.jsx)("div",{className:"confirm-auction flex",children:Y?ga:(0,f.jsx)("button",{className:"btn btn-confirm-auction",onClick:ja,children:_})})]})}),(0,f.jsx)("div",{id:"tab-pane-2",className:S?"flex col tab-pane-hidden tab-pane":"flex col tab-pane-active tab-pane",children:(0,f.jsxs)("div",{className:"timed-auction flex-col",children:[(0,f.jsx)("div",{className:"price-value flex",children:(0,f.jsx)("input",{type:"text",min:1,className:"price-value",placeholder:"Inpute base price...",onChange:function(a){N(Number(a.target.value))}})}),(0,f.jsx)("div",{className:"auction-deadline flex",children:(0,f.jsx)("input",{type:"date",className:"date-picker",onChange:function(a){Q(BigInt(new Date(a.target.valueAsDate).getTime()))}})}),(0,f.jsx)("div",{className:"current-state flex",children:(0,f.jsx)("div",{children:ca})}),(0,f.jsx)("div",{className:"confirm-auction flex",children:Y?ga:(0,f.jsx)("button",{className:"btn btn-confirm-auction",onClick:ka,children:_})})]})})]})})]})]})})}),j]})}},2071:function(a,b,c){c.r(b);var d=c(5893);c(7294);var e=c(5155);b.default=function(a){return(0,d.jsxs)("div",{className:"card-item flex col",style:{borderColor:a.borderColor,color:a.borderColor},children:[(0,d.jsxs)("div",{className:"card-info flex",children:[(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"Red Floki"}),(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"1X"})]}),(0,d.jsx)(e.Z,{className:"video-round flex",style:{marginBottom:20},width:"90%",src:a.src,autoPlay:!0}),(0,d.jsxs)("div",{className:"card-rarity flex",children:[(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"RARITY"}),(0,d.jsx)("p",{className:"comment",children:"Common"})]}),(0,d.jsxs)("div",{className:"card-collection flex",children:[(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"COLLECTION"}),(0,d.jsx)("p",{className:"comment",children:"Season1"})]}),(0,d.jsxs)("div",{className:"card-opening-chain flex",children:[(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"OPEING CHAIN"}),(0,d.jsx)("p",{className:"comment",children:"1X"})]}),(0,d.jsxs)("div",{className:"card-apy flex",children:[(0,d.jsx)("p",{className:"sub-title",style:{color:a.borderColor},children:"APY"}),(0,d.jsx)("p",{className:"comment",children:"1X"})]}),(0,d.jsx)("div",{className:"card-button flex",children:"buy"==a.type|| void 0==a.type?(0,d.jsx)("button",{className:"btn flex",onClick:a.onClick,children:"Buy"}):(0,d.jsx)("button",{className:"btn flex",onClick:a.onClick,children:"Sell"})})]})}}}])